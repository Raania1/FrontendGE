<app-navbar></app-navbar>
<div class="relative py-24 min-h-screen h-100vh" style="background-image: url('https://media.istockphoto.com/id/804893032/fr/photo/flou-des-affaires-conf%C3%A9rence-et-pr%C3%A9sentation-dans-la-salle-de-conf%C3%A9rence.jpg?s=612x612&w=0&k=20&c=t5bT38VU4_N_wq8YWTxmTX7SnxZQRfRqbqXwGV9OziQ='); background-size: cover; background-repeat: no-repeat; background-position: center;">
    <div class="absolute inset-0 bg-custom-brown/50"></div>
      <div class="relative max-w-md mx-auto bg-white p-8 rounded-lg shadow-lg top-1/2 transform  ">
        <div class="flex justify-center">
            <img src="/assets/FE1.png" alt="Logo" width="150" height="auto">
          </div>        
          <h2 class="text-3xl font-serif text-custom-black text-center mb-6">Connexion</h2>
      <form class="space-y-6" [formGroup]="userData" (ngSubmit)="onSubmit()">
        <div>
          <label for="email" class="block text-sm font-medium text-custom-black">Email</label>
          <div class="mt-1">
            <input type="email" 
            formControlName="email" 
            id="email" 
            class="block w-full rounded-md border border-custom-gray/30 px-3 py-2 shadow-sm focus:border-custom-orangeBold focus:ring-custom-orangeBold sm:text-sm" 
            placeholder="votre@email.com" 
            [ngClass]="{
              'border border-red': email?.touched && email?.invalid,
              'border border-green':email?.touched && email?.valid
            }"/>
            <div class="validation">
              @if((email?.touched && email?.dirty) || submitted){
                @if(email?.getError('required')){
                  <p class="text-red">L'email est obligatoire</p>
                }
                @if(email?.getError('email')){
                  <p class="text-red">Email n'est pas valide</p>
                }
              }
            </div>
          </div>
        </div>
        <div>
          <label for="password" class="block text-sm font-medium text-custom-black">Mot de passe</label>
          <div class="mt-1">
            <input type="password" 
            name="password" 
            id="password" 
            class="block w-full rounded-md border border-custom-gray/30 px-3 py-2 shadow-sm focus:border-custom-orangeBold focus:ring-custom-orangeBold sm:text-sm" 
            placeholder="********" 
            formControlName="password"
            [ngClass]="{
              'border border-red': password?.touched && password?.invalid,
              'border border-green': password?.touched && password?.valid
            }"/>
            <div class="validation">
              @if((password?.touched && password?.dirty) || submitted){
                @if(password?.getError('required')){
                  <p class="text-red">Le Mot de passe est obligatoire</p>
                }
                @if(password?.getError('minlength')){
                  <p class="text-red">au minimum 8 caracteres</p>
                }
                @if(password?.getError('pattern')){
                  <p class="text-red">au moins une majuscule, une minuscule, un chiffre, et un caractère spécial</p>
                }
              }
            </div>
          </div>
          <div class="text-right mt-2">
            <a routerLink="/reset-password" class="text-sm text-bl hover:text-custom-orangeBold cursor-pointer " style="font-size: 11px;">
              Mot de passe oublié ?
            </a>
          </div>
        </div>
        <div class="flex items-center justify-center">
          <a type="submit" routerLink="/navOR" class="rounded-md bg-custom-orangeBold px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-custom-orangethrow focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-custom-orangeBold">
            Se connecter
          </a>
        </div>
        <div class="text-center">
          <p class="text-sm text-custom-brown">
            Vous n'avez pas de compte ? 
            <a routerLink="/inscritP"  class="font-semibold text-custom-orangeBold hover:text-custom-orangethrow cursor-pointer">Inscrivez-vous</a>
          </p>
        </div>
      </form>
    </div>
  </div>